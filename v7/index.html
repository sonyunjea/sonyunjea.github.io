<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회로이론 9장 연습문제 풀이</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF 생성을 위한 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .nav-button.active {
            background-color: #dbeafe;
            color: #1d4ed8;
            font-weight: 600;
        }
        .problem-section {
            display: none;
        }
        .problem-section.active {
            display: block;
        }
        .solution-step {
            padding-bottom: 0.75rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .solution-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .answer-box {
            background-color: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 1rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        /* PDF 강제 페이지 넘김을 위한 클래스 */
        .html2pdf__page-break {
            page-break-before: always;
        }
    </style>
    <!-- Chosen Palette: Academic Blue & Neutral -->
    <!-- Application Structure Plan: SPA 구조 유지. PDF 생성 시 첫 페이지에 조선대학교 리포트 양식 표지 추가 기능 구현. -->
    <!-- Visualization & Content Choices: 표지 디자인은 깔끔한 리포트 형식(테두리 박스 및 하단 정보 정렬)으로 구현. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">회로이론 9장 연습문제 풀이</h1>
            <button id="download-pdf-btn" class="flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded shadow transition-colors duration-200">
                <span>📄</span> 리포트 표지 포함 PDF 다운로드
            </button>
        </div>
    </header>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 mt-8">
        <div class="flex flex-col md:flex-row md:gap-8">
            
            <nav class="md:w-1/4 mb-6 md:mb-0 md:sticky md:top-24 md:self-start">
                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <h2 class="text-lg font-semibold mb-3 border-b pb-2">문제 목록</h2>
                    <div id="nav-menu" class="space-y-1">
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-37">문제 9.37</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-41">문제 9.41</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-43">문제 9.43</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-47">문제 9.47</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-49">문제 9.49</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-51">문제 9.51</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-53">문제 9.53</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-55">문제 9.55</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-65">문제 9.65</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-66">문제 9.66</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-70">문제 9.70</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-77">문제 9.77</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-79">문제 9.79</button>
                    </div>
                </div>
            </nav>

            <main class="md:w-3/4">
                <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                    <p class="text-gray-700">이 애플리케이션은 '회로이론 9장'의 연습문제 풀이를 탐색하기 쉽게 재구성한 것입니다. 왼쪽 탐색 메뉴에서 문제 번호를 클릭하면 해당 문제의 상세 풀이, 회로도, 그리고 최종 정답을 즉시 확인할 수 있습니다. 상단의 <strong>리포트 표지 포함 PDF 다운로드</strong> 버튼을 누르면 표지와 함께 전체 해설을 파일로 저장할 수 있습니다.</p>
                </div>

                <div id="content-area">
                    
                    <section id="problem-9-37" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.37</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 어드미턴스 Y 구하기</h4>
                        <img src="https://i.postimg.cc/MZvtTmbj/9jang(1).png" alt="문제 9.37 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 각 소자의 임피던스 및 어드미턴스</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>저항: Z_R = 4 옴 &rightarrow; Y_R = 1/4 = 0.25 S</li>
                                    <li>인덕터: Z_L = j8 옴 &rightarrow; Y_L = 1/(j8) = -j0.125 S</li>
                                    <li>커패시터: Z_C = -j10 옴 &rightarrow; Y_C = 1/(-j10) = j0.10 S</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전체 어드미턴스 계산</h5>
                                <p class="text-gray-700">Y = Y_R + Y_L + Y_C</p>
                                <p class="text-gray-700">Y = 0.25 - j0.125 + j0.10</p>
                                <p class="text-gray-700">Y = 0.25 - j0.025 S</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Y = 0.25 - j0.025 S</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-41" class="problem-section bg-white p-6 md:p-8 rounded-lg rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.41</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: RLC 회로 커패시터 전압 v(t) 구하기</h4>
                        <img src="https://i.postimg.cc/QVZxpMWk/9jang(2).png" alt="문제 9.41 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 10 cos(t) V, 각주파수(w): 1 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>왼쪽 직렬 저항: 1 옴</li>
                                    <li>세로 가지(저항+인덕터): Z_RL = 1 + j(1)(1) = 1 + j 옴</li>
                                    <li>커패시터(1F): Z_C = 1/(j1) = -j 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">Z_RL과 Z_C가 병렬 연결됨: (1 + j)와 (-j)의 병렬</p>
                                <p class="text-gray-700">계산 결과: Z_p = 1 - j 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 및 회로 전류</h5>
                                <p class="text-gray-700">Z_tot = 1(왼쪽 저항) + Z_p = 1 + (1 - j) = 2 - j 옴</p>
                                <p class="text-gray-700">전원 페이저 V_s = 10 각도 0도</p>
                                <p class="text-gray-700">전류 I = V_s / Z_tot = 10 / (2 - j) = 4 + j2 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 커패시터 전압 (노드 전압 V)</h5>
                                <p class="text-gray-700">V = I * Z_p = (4 + j2)(1 - j) = 6 - j2 V</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">5. 크기와 위상 변환</h5>
                                <p class="text-gray-700">크기: 루트(6^2 + (-2)^2) = 6.32 V</p>
                                <p class="text-gray-700">위상: 아크탄젠트(-2/6) = -18.4도</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">v(t) = 6.32 cos(t - 18.4도) V</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-43" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.43</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전류 I_0 구하기</h4>
                        <img src="https://i.postimg.cc/vBjmZhYv/9jang(3).png" alt="문제 9.43 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 60 각도 0도 V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 정리</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>인덕터: j80 옴</li>
                                    <li>커패시터: -j40 옴</li>
                                    <li>오른쪽 직렬 가지(저항+커패시터): Z_RC = 100 - j40 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">인덕터(j80)와 Z_RC(100 - j40)가 병렬</p>
                                <p class="text-gray-700">계산 결과: Z_p = 55.17 + j57.93 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 (Z_tot)</h5>
                                <p class="text-gray-700">왼쪽 50 옴 저항과 직렬 연결</p>
                                <p class="text-gray-700">Z_tot = 50 + 55.17 + j57.93 = 105.17 + j57.93 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전류 I_0 계산</h5>
                                <p class="text-gray-700">I_0 = 전원 / Z_tot = 60 / (105.17 + j57.93)</p>
                                <p class="text-gray-700">I_0 = 0.500 각도 -28.8도 A</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">I_0 = 0.5 각도 -28.8도 A</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-47" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.47</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전원 전류 i_s(t) 구하기</h4>
                        <img src="https://i.postimg.cc/23N845B6/9jang(4).png" alt="문제 9.47 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 5 cos(2000t) V, 각주파수(w): 2000 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 소자 임피던스</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>인덕터(2mH): j(2000)(0.002) = j4 옴</li>
                                    <li>커패시터(50uF): 1 / (j * 2000 * 50 * 10^-6) = -j10 옴</li>
                                    <li>저항: 20 옴</li>
                                    <li>Z_RL (인덕터+저항 직렬): 20 + j4 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">Z_RL과 커패시터(-j10)가 병렬</p>
                                <p class="text-gray-700">Z_p = 4.59 - j8.62 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 (Z_tot)</h5>
                                <p class="text-gray-700">왼쪽 2 옴 저항과 직렬</p>
                                <p class="text-gray-700">Z_tot = 2 + 4.59 - j8.62 = 6.59 - j8.62 옴</p>
                                <p class="text-gray-700">극형식 변환: 10.85 각도 -52.6도 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전류 페이저 I_s</h5>
                                <p class="text-gray-700">I_s = V_s / Z_tot = 5 각도 0도 / 10.85 각도 -52.6도</p>
                                <p class="text-gray-700">I_s = 0.461 각도 52.6도 A</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">i_s(t) = 0.461 cos(2000t + 52.6도) A</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-49" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.49</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: i_x(t)가 주어졌을 때 v_s(t) 구하기 (역방향 풀이)</h4>
                        <img src="https://i.postimg.cc/5jWNwtF2/9jang(5).png" alt="문제 9.49 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">주어진 전류: i_x(t) = 500 sin(200t) A</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 및 페이저 변환</h5>
                                <p class="text-gray-700">페이저 변환(코사인 기준): I_x = 500 각도 -90도 A = -j500 A</p>
                                <p class="text-gray-700">각주파수(w): 200 rad/s</p>
                                <ul class="list-disc list-inside space-y-1 text-gray-700 mt-2">
                                    <li>1옴 저항, 인덕터(j2), 커패시터(-j1)</li>
                                    <li>오른쪽 가지(1옴 + C): Z_1C = 1 - j1 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 노드 전압 V_a 계산</h5>
                                <p class="text-gray-700">V_a = I_x * Z_1C = (-j500)(1 - j) = -500 - j500 V</p>
                                <p class="text-gray-700">극형식: 707.1 각도 -135도 V</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 인덕터 전류 I_L</h5>
                                <p class="text-gray-700">I_L = V_a / j2 = (-500 - j500) / j2 = -250 + j250 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전체 전류 I_s (KCL)</h5>
                                <p class="text-gray-700">I_s = I_x + I_L = (-j500) + (-250 + j250) = -250 - j250 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">5. 전원 전압 V_s</h5>
                                <p class="text-gray-700">V_s = V_a + (2옴 * I_s) = (-500 - j500) + 2(-250 - j250)</p>
                                <p class="text-gray-700">V_s = -1000 - j1000 V (크기: 1414 V, 위상: -135도)</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">6. 시간 함수 변환</h5>
                                <p class="text-gray-700">v_s(t) = 1414 cos(200t - 135도) V</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">v_s(t) = 1414 sin(200t - 45도) V</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-51" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.51</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: i_s 구하기</h4>
                        <img src="https://i.postimg.cc/Hj1sQL7V/9jang(6).png" alt="문제 9.51 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: v_o = 10 cos(2t) V, w = 2 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 및 가지 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>커패시터 Z_C = -j5 옴</li>
                                    <li>인덕터 Z_L = j1 옴</li>
                                    <li>병렬 가지 전류 I_branch = 10 / (2 - j4) = 2.24 각도 63.4도 A</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전압 및 전체 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>상단 전압 V_top = I_branch * (2 - j4 + j1) = 8.06 각도 45도 V</li>
                                    <li>1옴 저항 전류 I_1옴 = 8.06 각도 45도 A</li>
                                    <li>전체 전류 i_s = I_branch + I_1옴</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">i_s = 9.98 각도 52도 A</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-53" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.53</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전류 I_o 구하기</h4>
                        <img src="https://i.postimg.cc/V5PLjNb1/9jang(7).png" alt="문제 9.53 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 등가 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>오른쪽 8옴, 10옴, j6옴, -j2옴 병렬 결합</li>
                                    <li>등가 임피던스 Z_eq = 4.76 + j2.13 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전체 전류 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>전체 저항 = 2옴 + Z_eq = 6.76 + j2.13 옴</li>
                                    <li>I_o = 60 각도 30도 / (6.76 + j2.13)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">I_o = 8.35 각도 -16.9도 A</p>
                            </div>
                        </div>
                    </section>

                    <section id="problem-9-55" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.55</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 임피던스 Z 구하기</h4>
                        <img src="https://i.postimg.cc/3Nvx4GNz/9jang(8).png" alt="문제 9.55 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: 출력전압 V_o = 4 각도 0도 V, 입력전압 V_s = 20 각도 -90도 V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 전압 분배 법칙 활용</h5>
                                <p class="text-gray-700">회로 구조: j8옴과 -j4옴이 직렬, Z가 병렬 등</p>
                                <p class="text-gray-700">전압비 |V_o / V_s| = 4/20 = 0.2</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 임피던스 Z 역산</h5>
                                <p class="text-gray-700">복소수 연산을 통해 Z 도출</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z = 8 + j2 옴</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-65" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.65</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 테브난 임피던스 Z_T와 전류 I 구하기</h4>
                        <img src="https://i.postimg.cc/3Nvx4GNS/9jang(9).png" alt="문제 9.65 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: 전원 120 각도 10도 V, 저항 R=2옴 등</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>Z_1 (4옴와 -j6옴 병렬) = 2.4 - j1.6 옴</li>
                                    <li>Z_2 (3옴와 j4옴 병렬) = 1.7 + j1.13 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 테브난 임피던스 및 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>Z_T = 2 + Z_1 + Z_2 = 6.1 - j0.47 옴</li>
                                    <li>I = 전압 / Z_T = 120 각도 10도 / (6.1 - j0.47)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_T = 6.1 - j0.47 옴, I = 19.6 각도 14.4도 A</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-66" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.66</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 테브난 임피던스 Z_T와 개방 전압 V_ab 구하기</h4>
                        <img src="https://i.postimg.cc/C5qxB85c/9jang(10).png" alt="문제 9.66 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 60 각도 90도 V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. Z_T 구하기 (전원 단락)</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>(20옴 || -j5옴) + (40옴 + j10옴)</li>
                                    <li>(4 - j1) + (40 + j10) = 44 + j9 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. V_ab 구하기 (전압 분배/전류 분배)</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>전체 전류 I = V / Z_total</li>
                                    <li>V_ab 계산 결과: 54.8 각도 2.4도 V</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_T = 44 + j9 옴, V_ab = 54.8 각도 2.4도 V</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-70" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.70</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 등가 임피던스 Z_eq 구하기</h4>
                        <img src="https://i.postimg.cc/Ss5KxdSf/9jang(11).png" alt="문제 9.70 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">풀이 과정 (단순화)</h5>
                                <ol class="list-decimal list-inside space-y-1 text-gray-700">
                                    <li>하단 8옴과 -j5옴 병렬 -> Z_a</li>
                                    <li>Z_a와 -j10옴 병렬 -> Z_b</li>
                                    <li>5옴 저항과 직렬</li>
                                    <li>(10 + j15)옴 과 2옴 저항들과의 최종 결합</li>
                                </ol>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_eq = 5.93 + j6.47 옴</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-77" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.77</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: RC 저역통과 필터 분석</h4>
                        <img src="https://i.postimg.cc/TwSP30dj/9jang(12).png" alt="문제 9.77 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: R = 5옴, C = 20nF, f = 2MHz</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(a) 위상 편이 구하기</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>각주파수 w = 2 * pi * f</li>
                                    <li>wRC = 1.2566</li>
                                    <li>위상각 = -아크탄젠트(1.2566) = -51.8도</li>
                                    <li><strong>정답(a): -51.8도 (지상)</strong></li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(b) 위상 편이가 45도일 때 주파수</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>wRC = 1 이 되는 지점</li>
                                    <li>f = 1 / (2 * pi * R * C)</li>
                                    <li><strong>정답(b): f = 1.59 MHz</strong></li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답 요약</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">(a) -51.8도 (지상)</p>
                                <p class="text-lg font-bold text-green-800">(b) f = 1.59 MHz</p>
                            </div>
                        </div>
                    </section>
                    
                    <section id="problem-9-79" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.79</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: R-L 병렬 3단 회로 전달함수</h4>
                        <img src="https://i.postimg.cc/DZDzw6vg/9jang(13).png" alt="문제 9.79 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(a) 전달함수 H 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>오른쪽부터 차례대로 등가 임피던스를 구해나가며 노드 해석 적용</li>
                                    <li>H = V_o / V_i</li>
                                    <li><strong>정답(a): H = 0.297 각도 -35.4도</strong></li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(b) 위상 특성</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>음의 위상각이므로 출력이 입력보다 뒤짐(Lagging)</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(c) 출력 전압 크기</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>입력 120V 일 때</li>
                                    <li>|V_o| = 0.297 * 120 = 35.6V</li>
                                    <li><strong>정답(c): 35.6 V</strong></li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답 요약</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">(a) H = 0.297 각도 -35.4도</p>
                                <p class="text-lg font-bold text-green-800">(b) 뒤짐 (Lagging)</p>
                                <p class="text-lg font-bold text-green-800">(c) 35.6 V</p>
                            </div>
                        </div>
                    </section>

                </div>
            </main>
        </div>
    </div>

    <footer class="text-center py-6 mt-12 text-gray-500 text-sm">
        인터랙티브 풀이집 (생성됨)
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navMenu = document.getElementById('nav-menu');
            const navButtons = navMenu.querySelectorAll('.nav-button');
            const contentSections = document.getElementById('content-area').querySelectorAll('.problem-section');

            function createCoverPage() {
                const coverPage = document.createElement('div');
                coverPage.style.width = '100%';
                coverPage.style.minHeight = '1000px'; // A4 한 페이지 정도 높이 확보
                coverPage.style.display = 'flex';
                coverPage.style.flexDirection = 'column';
                coverPage.style.justifyContent = 'center';
                coverPage.style.alignItems = 'center';
                coverPage.style.textAlign = 'center';
                coverPage.style.backgroundColor = '#fff';
                coverPage.style.padding = '50px';
                coverPage.classList.add('mb-8');

                // 로고 대신 텍스트 사용 (이미지 의존성 제거)
                coverPage.innerHTML = `
                    <div style="margin-bottom: 80px;">
                        <h1 style="font-size: 36px; font-weight: bold; color: #111; letter-spacing: 5px;">조 선 대 학 교</h1>
                    </div>
                    <div style="margin-bottom: 120px; border: 3px double #333; padding: 50px 30px; width: 80%;">
                        <h2 style="font-size: 32px; font-weight: bold; margin: 0; line-height: 1.4;">회로이론 9장 연습문제 풀이</h2>
                    </div>
                    <div style="width: 60%; margin: 0 auto; text-align: left; font-size: 18px; line-height: 2.2;">
                        <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                            <span style="font-weight: bold; width: 100px;">학 과</span>
                            <span style="text-align: right;">전자공학부</span>
                        </div>
                        <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                            <span style="font-weight: bold; width: 100px;">과 목 명</span>
                            <span style="text-align: right;">회로이론2</span>
                        </div>
                        <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                            <span style="font-weight: bold; width: 100px;">학 번</span>
                            <span style="text-align: right;">20225028</span>
                        </div>
                        <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                            <span style="font-weight: bold; width: 100px;">이 름</span>
                            <span style="text-align: right;">손 윤 재</span>
                        </div>
                        <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                            <span style="font-weight: bold; width: 100px;">제 출 일</span>
                            <span style="text-align: right;">25.11.20</span>
                        </div>
                    </div>
                `;
                return coverPage;
            }

            // PDF 다운로드 버튼 로직
            document.getElementById('download-pdf-btn').addEventListener('click', function() {
                // PDF 전용 컨테이너를 실제 DOM에 추가 (스타일이 정상적으로 적용되도록)
                const pdfContainer = document.createElement('div');
                pdfContainer.id = 'pdf-container';
                pdfContainer.style.backgroundColor = '#ffffff';
                pdfContainer.style.padding = '20px 25px';
                pdfContainer.style.width = '800px'; // A4 비율에 맞는 적당한 너비
                pdfContainer.style.margin = '0 auto';
                pdfContainer.style.fontFamily = "'Inter','Noto Sans KR',sans-serif";

                // 1. 표지 추가
                pdfContainer.appendChild(createCoverPage());

                // 2. 페이지 넘김(Break) 요소 추가
                const pageBreak = document.createElement('div');
                pageBreak.className = 'html2pdf__page-break';
                pdfContainer.appendChild(pageBreak);

                // 3. 문제 내용 추가 (모든 섹션을 표시 상태로 복제)
                const sections = document.querySelectorAll('.problem-section');
                sections.forEach((section) => {
                    const clone = section.cloneNode(true);
                    clone.style.display = 'block'; // 강제 표시
                    clone.classList.remove('shadow-lg', 'rounded-lg'); // 프린트용 스타일 조정
                    clone.classList.add('mb-8', 'border-b', 'pb-8');

                    // 이미지 크기 및 CORS 설정
                    const imgs = clone.querySelectorAll('img');
                    imgs.forEach(img => {
                        img.style.maxWidth = '80%';
                        img.style.height = 'auto';
                        img.style.display = 'block';
                        img.style.margin = '0 auto 1.5rem auto';
                        img.setAttribute('crossorigin', 'anonymous');
                    });

                    pdfContainer.appendChild(clone);

                    // 필요하면 각 문제를 새 페이지에서 시작하도록 할 때 사용 (현재는 연속 배치)
                    // const pb = document.createElement('div');
                    // pb.className = 'html2pdf__page-break';
                    // pdfContainer.appendChild(pb);
                });

                document.body.appendChild(pdfContainer);

                const opt = {
                    margin: 15,
                    filename: '회로이론_9장_손윤재.pdf',
                    image: { type: 'jpeg', quality: 0.95 },
                    html2canvas: { scale: 2, useCORS: true, scrollY: 0 },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                    // 'avoid-all' 제거 → 섹션이 한 페이지를 넘을 때 잘리지 않고 자동으로 다음 페이지로 넘어가도록 함
                    pagebreak: { mode: ['css', 'legacy'] }
                };

                const btn = this;
                const originalText = btn.innerHTML;
                btn.innerHTML = '⏳ PDF 생성 중...';
                btn.disabled = true;

                html2pdf()
                    .set(opt)
                    .from(pdfContainer)
                    .save()
                    .then(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                        // PDF 생성 후 임시 컨테이너 제거
                        document.body.removeChild(pdfContainer);
                    })
                    .catch(err => {
                        console.error(err);
                        alert('PDF 생성 중 오류가 발생했습니다.');
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                        if (pdfContainer && pdfContainer.parentNode) {
                            document.body.removeChild(pdfContainer);
                        }
                    });
            });

            function showProblem(targetId) {
                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });

                navButtons.forEach(button => {
                    if (button.dataset.target === targetId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });
            }

            navMenu.addEventListener('click', (event) => {
                const button = event.target.closest('.nav-button');
                if (button && button.dataset.target) {
                    const targetId = button.dataset.target;
                    showProblem(targetId);
                }
            });

            showProblem('problem-9-37');
        });
    </script>

</body>
</html>
