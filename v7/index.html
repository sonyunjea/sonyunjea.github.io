<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회로이론 9장 연습문제 풀이</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF 생성을 위한 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .nav-button.active {
            background-color: #dbeafe;
            color: #1d4ed8;
            font-weight: 600;
        }
        .problem-section {
            display: none;
        }
        .problem-section.active {
            display: block;
        }
        .solution-step {
            padding-bottom: 0.75rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .solution-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .answer-box {
            background-color: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 1rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        /* PDF 강제 페이지 넘김을 위한 클래스 */
        .html2pdf__page-break {
            page-break-before: always;
        }

        /* PDF 전용 래퍼/표지 기본 스타일 */
        #pdf-wrapper {
            width: 210mm;
            min-height: 297mm;
            padding: 20mm 18mm;
            box-sizing: border-box;
            background-color: #ffffff;
        }
        .pdf-cover {
            min-height: 250mm;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
    </style>
    <!-- Chosen Palette: Academic Blue & Neutral -->
    <!-- Application Structure Plan: SPA 구조 유지. PDF 생성 시 첫 페이지에 조선대학교 리포트 양식 표지 추가 기능 구현. -->
    <!-- Visualization & Content Choices: 표지 디자인은 깔끔한 리포트 형식(테두리 박스 및 하단 정보 정렬)으로 구현. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">회로이론 9장 연습문제 풀이</h1>
            <button id="download-pdf-btn" class="flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded shadow transition-colors duration-200">
                <span>📄</span> 리포트 표지 포함 PDF 다운로드
            </button>
        </div>
    </header>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 mt-8">
        <div class="flex flex-col md:flex-row md:gap-8">
            
            <nav class="md:w-1/4 mb-6 md:mb-0 md:sticky md:top-24 md:self-start">
                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <h2 class="text-lg font-semibold mb-3 border-b pb-2">문제 목록</h2>
                    <div id="nav-menu" class="space-y-1">
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-37">문제 9.37</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-41">문제 9.41</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-43">문제 9.43</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-47">문제 9.47</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-49">문제 9.49</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-51">문제 9.51</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-53">문제 9.53</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-55">문제 9.55</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-65">문제 9.65</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-66">문제 9.66</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-70">문제 9.70</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-77">문제 9.77</button>
                        <button class="nav-button w-full text-left p-3 rounded-md hover:bg-gray-100 transition-colors duration-150" data-target="problem-9-79">문제 9.79</button>
                    </div>
                </div>
            </nav>

            <main class="md:w-3/4">
                <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                    <p class="text-gray-700">
                        이 애플리케이션은 '회로이론 9장'의 연습문제 풀이를 탐색하기 쉽게 재구성한 것입니다.
                        왼쪽 탐색 메뉴에서 문제 번호를 클릭하면 해당 문제의 상세 풀이, 회로도, 그리고 최종 정답을 즉시 확인할 수 있습니다.
                        상단의 <strong>리포트 표지 포함 PDF 다운로드</strong> 버튼을 누르면 표지와 함께 전체 해설을 파일로 저장할 수 있습니다.
                    </p>
                </div>

                <div id="content-area">
                    
                    <!-- ===== 문제 9.37 ===== -->
                    <section id="problem-9-37" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.37</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 어드미턴스 Y 구하기</h4>
                        <img src="https://i.postimg.cc/MZvtTmbj/9jang(1).png" alt="문제 9.37 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 각 소자의 임피던스 및 어드미턴스</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>저항: Z_R = 4 옴 &rightarrow; Y_R = 1/4 = 0.25 S</li>
                                    <li>인덕터: Z_L = j8 옴 &rightarrow; Y_L = 1/(j8) = -j0.125 S</li>
                                    <li>커패시터: Z_C = -j10 옴 &rightarrow; Y_C = 1/(-j10) = j0.10 S</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전체 어드미턴스 계산</h5>
                                <p class="text-gray-700">Y = Y_R + Y_L + Y_C</p>
                                <p class="text-gray-700">Y = 0.25 - j0.125 + j0.10</p>
                                <p class="text-gray-700">Y = 0.25 - j0.025 S</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Y = 0.25 - j0.025 S</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.41 ===== -->
                    <section id="problem-9-41" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.41</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: RLC 회로 커패시터 전압 v(t) 구하기</h4>
                        <img src="https://i.postimg.cc/QVZxpMWk/9jang(2).png" alt="문제 9.41 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 10 cos(t) V, 각주파수(w): 1 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>왼쪽 직렬 저항: 1 옴</li>
                                    <li>세로 가지(저항+인덕터): Z_RL = 1 + j(1)(1) = 1 + j 옴</li>
                                    <li>커패시터(1F): Z_C = 1/(j1) = -j 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">Z_RL과 Z_C가 병렬 연결됨: (1 + j)와 (-j)의 병렬</p>
                                <p class="text-gray-700">계산 결과: Z_p = 1 - j 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 및 회로 전류</h5>
                                <p class="text-gray-700">Z_tot = 1(왼쪽 저항) + Z_p = 1 + (1 - j) = 2 - j 옴</p>
                                <p class="text-gray-700">전원 페이저 V_s = 10 각도 0도</p>
                                <p class="text-gray-700">전류 I = V_s / Z_tot = 10 / (2 - j) = 4 + j2 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 커패시터 전압 (노드 전압 V)</h5>
                                <p class="text-gray-700">V = I * Z_p = (4 + j2)(1 - j) = 6 - j2 V</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">5. 크기와 위상 변환</h5>
                                <p class="text-gray-700">크기: √(6² + (-2)²) = 6.32 V</p>
                                <p class="text-gray-700">위상: arctan(-2/6) ≈ -18.4도</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">v(t) = 6.32 cos(t - 18.4도) V</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.43 ===== -->
                    <section id="problem-9-43" class="problem-section bg-white p-6 md:p8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.43</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전류 I_0 구하기</h4>
                        <img src="https://i.postimg.cc/vBjmZhYv/9jang(3).png" alt="문제 9.43 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 60 각도 0도 V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 정리</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>인덕터: j80 옴</li>
                                    <li>커패시터: -j40 옴</li>
                                    <li>오른쪽 직렬 가지(저항+커패시터): Z_RC = 100 - j40 옴</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">인덕터(j80)와 Z_RC(100 - j40)가 병렬</p>
                                <p class="text-gray-700">계산 결과: Z_p = 55.17 + j57.93 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 (Z_tot)</h5>
                                <p class="text-gray-700">왼쪽 50 옴 저항과 직렬 연결</p>
                                <p class="text-gray-700">Z_tot = 50 + 55.17 + j57.93 = 105.17 + j57.93 옴</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전류 I_0 계산</h5>
                                <p class="text-gray-700">I_0 = 전원 / Z_tot = 60 / (105.17 + j57.93)</p>
                                <p class="text-gray-700">I_0 ≈ 0.500 각도 -28.8도 A</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">I_0 = 0.5 각도 -28.8도 A</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.47 ===== -->
                    <section id="problem-9-47" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.47</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전원 전류 i_s(t) 구하기</h4>
                        <img src="https://i.postimg.cc/23N845B6/9jang(4).png" alt="문제 9.47 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 5 cos(2000t) V, 각주파수(w): 2000 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 소자 임피던스</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>인덕터(2mH): Z_L = jωL = j(2000)(0.002) = j4 Ω</li>
                                    <li>커패시터(50μF): Z_C = 1/(jωC) = 1 / (j·2000·50·10⁻⁶) = -j10 Ω</li>
                                    <li>저항: 20 Ω</li>
                                    <li>Z_RL (인덕터+저항 직렬): 20 + j4 Ω</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 병렬 임피던스 (Z_p)</h5>
                                <p class="text-gray-700">Z_RL과 커패시터(-j10)가 병렬</p>
                                <p class="text-gray-700">계산 결과: Z_p ≈ 4.59 - j8.62 Ω</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 전체 임피던스 (Z_tot)</h5>
                                <p class="text-gray-700">왼쪽 2 Ω 저항과 직렬</p>
                                <p class="text-gray-700">Z_tot = 2 + 4.59 - j8.62 = 6.59 - j8.62 Ω</p>
                                <p class="text-gray-700">극형식: |Z_tot| ≈ 10.85, ∠Z_tot ≈ -52.6°</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전류 페이저 I_s</h5>
                                <p class="text-gray-700">I_s = V_s / Z_tot = 5∠0° / 10.85∠-52.6° = 0.461∠52.6° A</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">i_s(t) = 0.461 cos(2000t + 52.6도) A</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.49 ===== -->
                    <section id="problem-9-49" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.49</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: i_x(t)가 주어졌을 때 v_s(t) 구하기 (역방향 풀이)</h4>
                        <img src="https://i.postimg.cc/5jWNwtF2/9jang(5).png" alt="문제 9.49 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">주어진 전류: i_x(t) = 500 sin(200t) A</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 및 페이저 변환</h5>
                                <p class="text-gray-700">코사인 기준으로 변환: sin(200t) = cos(200t - 90°)</p>
                                <p class="text-gray-700">따라서 I_x = 500∠-90° A = -j500 A</p>
                                <p class="text-gray-700">각주파수: ω = 200 rad/s</p>
                                <ul class="list-disc list-inside space-y-1 text-gray-700 mt-2">
                                    <li>1 Ω 저항, 인덕터: j2 Ω, 커패시터: -j1 Ω</li>
                                    <li>오른쪽 가지(1 Ω + C): Z_1C = 1 - j1 Ω</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 노드 전압 V_a 계산</h5>
                                <p class="text-gray-700">V_a = I_x · Z_1C = (-j500)(1 - j)</p>
                                <p class="text-gray-700">= -500 - j500 V</p>
                                <p class="text-gray-700">크기: |V_a| = √(500² + 500²) = 707.1 V, 위상: -135°</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">3. 인덕터 전류 I_L</h5>
                                <p class="text-gray-700">I_L = V_a / j2 = (-500 - j500) / j2 = -250 + j250 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">4. 전체 전류 I_s (KCL)</h5>
                                <p class="text-gray-700">I_s = I_x + I_L = (-j500) + (-250 + j250) = -250 - j250 A</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">5. 전원 전압 V_s</h5>
                                <p class="text-gray-700">전원 직렬 저항 2 Ω를 포함하여:</p>
                                <p class="text-gray-700">V_s = V_a + 2·I_s = (-500 - j500) + 2(-250 - j250)</p>
                                <p class="text-gray-700">= -500 - j500 - 500 - j500 = -1000 - j1000 V</p>
                                <p class="text-gray-700">|V_s| = 1414 V, ∠V_s = -135°</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">6. 시간 함수 변환</h5>
                                <p class="text-gray-700">v_s(t) = 1414 cos(200t - 135°) V</p>
                                <p class="text-gray-700">또는 sin 기준으로 표현하면: v_s(t) = 1414 sin(200t - 45°) V</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">v_s(t) = 1414 sin(200t - 45도) V</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.51 ===== -->
                    <section id="problem-9-51" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.51</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: i_s 구하기</h4>
                        <img src="https://i.postimg.cc/Hj1sQL7V/9jang(6).png" alt="문제 9.51 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: v_o = 10 cos(2t) V, ω = 2 rad/s</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 및 가지 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>커패시터: Z_C = 1/(jωC) = -j5 Ω</li>
                                    <li>인덕터: Z_L = jωL = j1 Ω</li>
                                    <li>중간 가지 임피던스: 2 - j4 Ω</li>
                                    <li>가지 전류: I_branch = 10 / (2 - j4) ≈ 2.24∠63.4° A</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전압 및 전체 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>상단 전압: V_top = I_branch · (2 - j4 + j1) ≈ 8.06∠45° V</li>
                                    <li>1 Ω 저항 전류: I_1Ω = V_top / 1 Ω = 8.06∠45° A</li>
                                    <li>전체 전류: i_s = I_branch + I_1Ω ≈ 9.98∠52° A</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">i_s = 9.98 각도 52도 A</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.53 ===== -->
                    <section id="problem-9-53" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.53</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 전류 I_o 구하기</h4>
                        <img src="https://i.postimg.cc/V5PLjNb1/9jang(7).png" alt="문제 9.53 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 등가 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>오른쪽 8 Ω, 10 Ω, j6 Ω, -j2 Ω 병렬 결합</li>
                                    <li>등가 임피던스: Z_eq ≈ 4.76 + j2.13 Ω</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 전체 전류 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>전체 저항: 2 Ω + Z_eq = 6.76 + j2.13 Ω</li>
                                    <li>I_o = 60∠30° / (6.76 + j2.13) ≈ 8.35∠-16.9° A</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">I_o = 8.35 각도 -16.9도 A</p>
                            </div>
                        </div>
                    </section>

                    <!-- ===== 문제 9.55 ===== -->
                    <section id="problem-9-55" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.55</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 임피던스 Z 구하기</h4>
                        <img src="https://i.postimg.cc/3Nvx4GNz/9jang(8).png" alt="문제 9.55 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: 출력전압 V_o = 4∠0° V, 입력전압 V_s = 20∠-90° V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 전압 분배 법칙 활용</h5>
                                <p class="text-gray-700">회로 구조: j8 Ω 와 -j4 Ω 직렬, 그와 Z가 병렬로 연결된 형태</p>
                                <p class="text-gray-700">전압비 |V_o / V_s| = 4 / 20 = 0.2</p>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 임피던스 Z 역산</h5>
                                <p class="text-gray-700">복소수 전압 분배식을 이용하여 Z를 계산하면</p>
                                <p class="text-gray-700">Z = 8 + j2 Ω</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z = 8 + j2 Ω</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.65 ===== -->
                    <section id="problem-9-65" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.65</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 테브난 임피던스 Z_T와 전류 I 구하기</h4>
                        <img src="https://i.postimg.cc/3Nvx4GNS/9jang(9).png" alt="문제 9.65 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">조건: 전원 120∠10° V, 저항 R = 2 Ω 등</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. 임피던스 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>Z₁ (4 Ω ‖ -j6 Ω) = 2.4 - j1.6 Ω</li>
                                    <li>Z₂ (3 Ω ‖ j4 Ω) = 1.7 + j1.13 Ω</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. 테브난 임피던스 및 전류</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>Z_T = 2 + Z₁ + Z₂ = 6.1 - j0.47 Ω</li>
                                    <li>I = 120∠10° / (6.1 - j0.47) ≈ 19.6∠14.4° A</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_T = 6.1 - j0.47 Ω, I = 19.6 각도 14.4도 A</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.66 ===== -->
                    <section id="problem-9-66" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.66</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 테브난 임피던스 Z_T와 개방 전압 V_ab 구하기</h4>
                        <img src="https://i.postimg.cc/C5qxB85c/9jang(10).png" alt="문제 9.66 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <p class="text-gray-600 mb-4">전원: 60∠90° V</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">1. Z_T 구하기 (전원 단락)</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>(20 Ω ‖ -j5 Ω) + (40 Ω + j10 Ω)</li>
                                    <li>20 Ω ‖ -j5 Ω → 4 - j1 Ω</li>
                                    <li>Z_T = (4 - j1) + (40 + j10) = 44 + j9 Ω</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">2. V_ab 구하기 (전압 분배/전류 분배)</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>등가회로에서 전체 전류 I = 60∠90° / Z_total</li>
                                    <li>전압 분배를 통해 a-b 단자 전압 V_ab 계산</li>
                                    <li>계산 결과 V_ab ≈ 54.8∠2.4° V</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_T = 44 + j9 Ω, V_ab = 54.8 각도 2.4도 V</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.70 ===== -->
                    <section id="problem-9-70" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.70</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: 등가 임피던스 Z_eq 구하기</h4>
                        <img src="https://i.postimg.cc/Ss5KxdSf/9jang(11).png" alt="문제 9.70 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+Not+Found'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">풀이 과정 (단순화)</h5>
                                <ol class="list-decimal list-inside space-y-1 text-gray-700">
                                    <li>하단 8 Ω 와 -j5 Ω 병렬 → Z_a</li>
                                    <li>Z_a 와 -j10 Ω 병렬 → Z_b</li>
                                    <li>Z_b 와 5 Ω 직렬</li>
                                    <li>(10 + j15) Ω 과 2 Ω 저항들과의 최종 결합</li>
                                </ol>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">Z_eq = 5.93 + j6.47 Ω</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.77 ===== -->
                    <section id="problem-9-77" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.77</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: RC 저역통과 필터 분석</h4>
                        <img src="https://i.postimg.cc/TwSP30dj/9jang(12).png" alt="문제 9.77 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+NotFound'">
                        <p class="text-gray-600 mb-4">조건: R = 5 Ω, C = 20 nF, f = 2 MHz</p>
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(a) 위상 편이 구하기</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>각주파수: ω = 2πf</li>
                                    <li>ωRC ≈ 1.2566</li>
                                    <li>위상각: φ = -tan⁻¹(ωRC) ≈ -51.8°</li>
                                    <li><strong>정답(a): -51.8° (지상)</strong></li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(b) 위상 편이가 -45°일 때 주파수</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>|φ| = 45° → ωRC = 1</li>
                                    <li>f = 1 / (2πRC)</li>
                                    <li>R = 5 Ω, C = 20 nF → f ≈ 1.59 MHz</li>
                                    <li><strong>정답(b): f ≈ 1.59 MHz</strong></li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답 요약</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">(a) -51.8도 (지상)</p>
                                <p class="text-lg font-bold text-green-800">(b) f = 1.59 MHz</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- ===== 문제 9.79 ===== -->
                    <section id="problem-9-79" class="problem-section bg-white p-6 md:p-8 rounded-lg shadow-lg mb-6">
                        <h3 class="text-2xl font-bold text-blue-700 mb-2">문제 9.79</h3>
                        <h4 class="text-xl font-semibold text-gray-700 mb-6">주제: R-L 병렬 3단 회로 전달함수</h4>
                        <img src="https://i.postimg.cc/DZDzw6vg/9jang(13).png" alt="문제 9.79 회로도" class="w-full max-w-md mx-auto rounded-md border border-gray-200 mb-6" onerror="this.src='https://placehold.co/600x400/eee/aaa?text=Image+NotFound'">
                        <div class="space-y-4">
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(a) 전달함수 H 계산</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>오른쪽부터 차례대로 등가 임피던스를 구해나가며 노드 해석 적용</li>
                                    <li>입력/출력 관계: H = V_o / V_i</li>
                                    <li><strong>정답(a): H = 0.297 각도 -35.4도</strong></li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(b) 위상 특성</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>위상각이 음수 → 출력이 입력보다 뒤지는 특성 (Lagging)</li>
                                </ul>
                            </div>
                            <div class="solution-step">
                                <h5 class="text-lg font-semibold mb-2">(c) 출력 전압 크기</h5>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    <li>입력 V_i = 120 V 일 때</li>
                                    <li>|V_o| = |H|·|V_i| = 0.297·120 ≈ 35.6 V</li>
                                    <li><strong>정답(c): 35.6 V</strong></li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 class="text-lg font-semibold mb-2">정답 요약</h5>
                            <div class="answer-box">
                                <p class="text-lg font-bold text-green-800">(a) H = 0.297 각도 -35.4도</p>
                                <p class="text-lg font-bold text-green-800">(b) 뒤짐 (Lagging)</p>
                                <p class="text-lg font-bold text-green-800">(c) 35.6 V</p>
                            </div>
                        </div>
                    </section>

                </div>
            </main>
        </div>
    </div>

    <footer class="text-center py-6 mt-12 text-gray-500 text-sm">
        인터랙티브 풀이집 (생성됨)
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            /* ================================
               1. 좌측 네비게이션 / 문제 전환
               ================================ */
            const navMenu = document.getElementById('nav-menu');
            const navButtons = navMenu.querySelectorAll('.nav-button');
            const contentSections = document
                .getElementById('content-area')
                .querySelectorAll('.problem-section');

            function showProblem(targetId) {
                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.add('active');
                        section.style.display = 'block';
                    } else {
                        section.classList.remove('active');
                        section.style.display = 'none';
                    }
                });

                navButtons.forEach(button => {
                    if (button.dataset.target === targetId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });
            }

            navMenu.addEventListener('click', (event) => {
                const button = event.target.closest('.nav-button');
                if (button && button.dataset.target) {
                    const targetId = button.dataset.target;
                    showProblem(targetId);
                }
            });

            // 첫 로드시 9.37 문제 표시
            showProblem('problem-9-37');

            /* =============================
               2. PDF용 표지 엘리먼트 생성
               ============================= */
            function buildCoverElement() {
                const cover = document.createElement('section');
                cover.className = 'pdf-cover';

                cover.innerHTML = `
                    <div class="mb-24">
                        <p class="text-4xl md:text-5xl font-bold tracking-[0.6em] text-gray-900">
                            조 선 대 학 교
                        </p>
                    </div>

                    <div class="border-4 border-gray-900 px-12 py-16 mb-24 w-4/5 max-w-3xl">
                        <p class="text-3xl md:text-4xl font-bold text-gray-900 leading-snug">
                            회로이론 9장<br>
                            연습문제 풀이
                        </p>
                    </div>

                    <div class="w-3/5 max-w-xl text-lg md:text-xl text-gray-800">
                        <div class="flex items-center border-b border-gray-300 py-2">
                            <span class="w-28 font-semibold">학 과</span>
                            <span class="flex-1 text-right">전자공학과</span>
                        </div>
                        <div class="flex items-center border-b border-gray-300 py-2">
                            <span class="w-28 font-semibold">과 목 명</span>
                            <span class="flex-1 text-right">회로이론2</span>
                        </div>
                        <div class="flex items-center border-b border-gray-300 py-2">
                            <span class="w-28 font-semibold">학 번</span>
                            <span class="flex-1 text-right">20225028</span>
                        </div>
                        <div class="flex items-center border-b border-gray-300 py-2">
                            <span class="w-28 font-semibold">이 름</span>
                            <span class="flex-1 text-right">손윤재</span>
                        </div>
                        <div class="flex items-center border-b border-gray-300 py-2">
                            <span class="w-28 font-semibold">제 출 일</span>
                            <span class="flex-1 text-right">2025.11.20</span>
                        </div>
                    </div>
                `;

                return cover;
            }

            /* =================================
               3. PDF용 전체 문서 DOM 생성 로직
               ================================= */
            function buildPdfDocument() {
                // 3-1) PDF 전용 래퍼 생성
                const wrapper = document.createElement('div');
                wrapper.id = 'pdf-wrapper';

                // 화면에 안 보이게 밖으로 빼두기 (하지만 DOM에는 존재해야 Tailwind 스타일이 적용됨)
                wrapper.style.position = 'absolute';
                wrapper.style.left = '-9999px';
                wrapper.style.top = '0';
                wrapper.style.zIndex = '-1';

                // 3-2) 표지 추가
                const cover = buildCoverElement();
                wrapper.appendChild(cover);

                // 3-3) 표지 뒤에 페이지 브레이크 추가
                const pageBreak = document.createElement('div');
                pageBreak.className = 'html2pdf__page-break';
                wrapper.appendChild(pageBreak);

                // 3-4) 메인 내용 전체 복제
                const mainClone = document.querySelector('main').cloneNode(true);

                // 네비게이션/버튼 같은 건 필요 없으니 제거
                // (현재 main 안에는 nav가 없으므로 내용은 그대로 유지됨)

                // 문제 섹션들 전부 펼치기 + 그림/박스는 출력용으로 약간 정리
                const sections = mainClone.querySelectorAll('.problem-section');
                sections.forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'block';   // 전부 보이도록 강제
                    section.classList.remove('shadow-lg');
                    section.classList.add('border-b', 'border-gray-200', 'mb-6', 'pb-6');
                });

                // 이미지 정리 (너비/정렬/CORS)
                const imgs = mainClone.querySelectorAll('img');
                imgs.forEach(img => {
                    img.style.maxWidth = '80%';
                    img.style.height = 'auto';
                    img.style.display = 'block';
                    img.style.margin = '0 auto 1.5rem auto';
                    img.setAttribute('crossorigin', 'anonymous');
                });

                wrapper.appendChild(mainClone);

                // 실제 DOM에 붙여두기
                document.body.appendChild(wrapper);

                return wrapper;
            }

            function cleanupPdfDocument(wrapper) {
                if (wrapper && wrapper.parentNode) {
                    wrapper.parentNode.removeChild(wrapper);
                }
            }

            /* =========================
               4. PDF 다운로드 버튼 로직
               ========================= */
            const downloadBtn = document.getElementById('download-pdf-btn');

            downloadBtn.addEventListener('click', () => {
                const pdfWrapper = buildPdfDocument();

                const opt = {
                    margin:       10,
                    filename:     '회로이론_9장_손윤재.pdf',
                    image:        { type: 'jpeg', quality: 0.95 },
                    html2canvas:  { scale: 2, useCORS: true, scrollY: 0 },
                    jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' },
                    // avoid-all 제거 → 긴 섹션도 자동으로 다음 페이지로 넘기고,
                    // .html2pdf__page-break 를 이용해 표지 뒤에서만 강제 페이지 분리
                    pagebreak:    { mode: ['css', 'legacy'] }
                };

                const originalLabel = downloadBtn.innerHTML;
                downloadBtn.innerHTML = '⏳ PDF 생성 중...';
                downloadBtn.disabled = true;

                html2pdf()
                    .set(opt)
                    .from(pdfWrapper)
                    .save()
                    .then(() => {
                        downloadBtn.innerHTML = originalLabel;
                        downloadBtn.disabled = false;
                        cleanupPdfDocument(pdfWrapper);
                    })
                    .catch((err) => {
                        console.error(err);
                        alert('PDF 생성 중 오류가 발생했습니다.');
                        downloadBtn.innerHTML = originalLabel;
                        downloadBtn.disabled = false;
                        cleanupPdfDocument(pdfWrapper);
                    });
            });
        });
    </script>

</body>
</html>
