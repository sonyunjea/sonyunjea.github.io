<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회로이론 10장 & 11장 과제 풀이</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF 생성을 위한 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
            color: #000000; /* 기본 글자색 완전 검정 */
        }
        /* 스크롤바 커스텀 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        /* ✅ PDF에서 글자가 흐릿한 회색으로 나오는 문제 방지용
           - Tailwind의 text-gray-900, text-blue-900 같은 진한 회색 계열을
             전부 순수 검정(#000)으로 강제 지정해서 화면/PDF 모두 진하게 보이도록 설정 */
        .text-gray-900,
        .text-gray-800,
        .text-gray-700,
        .text-gray-600,
        .text-blue-900,
        .text-blue-800,
        .text-green-900,
        .text-green-800,
        header h1,
        h1, h2, h3, h4, h5, h6,
        p, li, span {
            color: #000000 !important;
        }

        /* 인쇄/캡처 시 색 보정 고정 (가능한 경우) */
        body * {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .nav-category {
            font-size: 0.85rem;
            font-weight: 800;
            color: #111827; /* 진한 색상 */
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            padding-left: 0.75rem;
        }
        .nav-button {
            text-align: left;
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
            font-size: 0.95rem;
            color: #1f2937; /* 진한 회색 */
            font-weight: 500;
        }
        .nav-button:hover {
            background-color: #f3f4f6;
            color: #000000;
        }
        .nav-button.active {
            background-color: #eff6ff;
            color: #1d4ed8; /* 진한 파랑 */
            font-weight: 700;
            border-left: 3px solid #1d4ed8;
        }

        .problem-section {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        .problem-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .solution-step {
            padding-bottom: 1rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb; /* 선 두께 강화 */
        }
        .solution-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .answer-box {
            background-color: #f0fdf4;
            border-left: 6px solid #16a34a; /* 강조선 강화 */
            padding: 1.25rem;
            border-radius: 0 0.5rem 0.5rem 0;
            color: #000000; /* 박스 내부 글자 검정 */
        }
        /* PDF 강제 페이지 넘김 및 이미지 스타일 */
        .html2pdf__page-break {
            page-break-before: always;
        }
        .problem-image {
            max-width: 100%;
            height: auto;
            border: 2px solid #d1d5db; /* 테두리 진하게 */
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }
    </style>
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="text-gray-900 antialiased">

<header class="bg-white shadow-md sticky top-0 z-20 border-b border-gray-300">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex items-center gap-2">
            <span class="text-3xl">📘</span>
            <h1 class="text-xl md:text-2xl font-extrabold text-black">회로이론 10장 & 11장 과제 풀이</h1>
        </div>
        <button id="download-pdf-btn" class="flex items-center gap-2 bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105 duration-200">
            <span>📥</span> 리포트 PDF 다운로드
        </button>
    </div>
</header>

<div class="container mx-auto px-4 sm:px-6 lg:px-8 mt-8 mb-20">
    <div class="flex flex-col md:flex-row md:gap-8">

        <!-- 사이드바 네비게이션 -->
        <nav class="md:w-1/4 mb-6 md:mb-0">
            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 sticky top-24 md:max-h-[calc(100vh-8rem)] md:overflow-y-auto">
                <h2 class="text-lg font-extrabold mb-2 text-black border-b-2 border-gray-200 pb-2">문제 목록</h2>

                <div id="nav-menu">
                    <!-- 10장 (10문제) -->
                    <div class="nav-category">📂 10장 (정현파 정상상태)</div>
                    <button class="nav-button" data-target="prob-10-23">문제 10.23</button>
                    <button class="nav-button" data-target="prob-10-26">문제 10.26</button>
                    <button class="nav-button" data-target="prob-10-39">문제 10.39</button>
                    <button class="nav-button" data-target="prob-10-49">문제 10.49</button>
                    <button class="nav-button" data-target="prob-10-58">문제 10.58</button>
                    <button class="nav-button" data-target="prob-10-60">문제 10.60</button>
                    <button class="nav-button" data-target="prob-10-63">문제 10.63</button>
                    <button class="nav-button" data-target="prob-10-67">문제 10.67</button>
                    <button class="nav-button" data-target="prob-10-71">문제 10.71</button>
                    <button class="nav-button" data-target="prob-10-72">문제 10.72</button>

                    <!-- 11장 (14문제) -->
                    <div class="nav-category mt-6">📂 11장 (교류 전력 해석)</div>
                    <button class="nav-button" data-target="prob-11-5">문제 11.5</button>
                    <button class="nav-button" data-target="prob-11-39">문제 11.39</button>
                    <button class="nav-button" data-target="prob-11-47">문제 11.47</button>
                    <button class="nav-button" data-target="prob-11-49">문제 11.49</button>
                    <button class="nav-button" data-target="prob-11-51">문제 11.51</button>
                    <button class="nav-button" data-target="prob-11-53">문제 11.53</button>
                    <button class="nav-button" data-target="prob-11-56">문제 11.56</button>
                    <button class="nav-button" data-target="prob-11-61">문제 11.61</button>
                    <button class="nav-button" data-target="prob-11-63">문제 11.63</button>
                    <button class="nav-button" data-target="prob-11-65">문제 11.65</button>
                    <button class="nav-button" data-target="prob-11-67">문제 11.67</button>
                    <button class="nav-button" data-target="prob-11-69">문제 11.69</button>
                    <button class="nav-button" data-target="prob-11-73">문제 11.73</button>
                    <button class="nav-button" data-target="prob-11-75">문제 11.75</button>
                </div>
            </div>
        </nav>

        <!-- 메인 컨텐츠 영역 -->
        <main class="md:w-3/4">

            <!-- 소개 박스 -->
            <div class="bg-white p-6 rounded-xl shadow-md mb-6 border border-blue-200">
                <h3 class="font-bold text-lg text-blue-900 mb-2">👋 환영합니다</h3>
                <p class="text-gray-900 font-medium leading-relaxed">
                    회로이론 10장(10문제) 및 11장(14문제) 과제 풀이 페이지입니다.<br>
                    우측 상단 <strong>'리포트 PDF 다운로드'</strong> 버튼을 누르면 표지가 포함된 전체 리포트 파일이 생성됩니다.
                </p>
            </div>

            <div id="content-area">

                <!-- ==================== 10장 문제들 ==================== -->

                <!-- 10.23: 수식/풀이 전부 정상 수식으로 교체 -->
                <section id="prob-10-23" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.23</h3>
                    <img src="https://i.postimg.cc/fTb3Z8xp/10jang(1).png" alt="문제 10.23" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 노드 해석으로 전압 V 구하기</h4>

                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-blue-800 text-lg">1. 임피던스 및 노드 방정식 세우기</h5>
                            <p>
                                저항, 인덕터, 커패시터의 임피던스(또는 어드미턴스)는 다음과 같이 쓸 수 있습니다.
                            </p>
                            <p class="pl-4">
                                Z<sub>R</sub> = R,&nbsp;
                                Y<sub>C</sub> = j&nbsp;&omega;C,&nbsp;
                                Y<sub>L</sub> = 1 / (j&nbsp;&omega;L)
                            </p>
                            <p>
                                상단 노드 전압을 V, 전원 전압을 V<sub>s</sub>라고 하고, 노드에 유입되는 전류 기준으로 KCL을 쓰면
                            </p>
                            <p class="pl-4">
                                (V<sub>s</sub> − V) / R = 2·j&nbsp;&omega;C·V + V / (j&nbsp;&omega;L)
                            </p>
                            <p>
                                와 같이 표현할 수 있습니다.
                            </p>
                        </div>

                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-blue-800 text-lg">2. V에 대한 해 구하기</h5>
                            <p>위 식을 V에 대해 정리하면</p>
                            <p class="pl-4">
                                V<sub>s</sub> − V = R·V ( 2·j&nbsp;&omega;C + 1 / (j&nbsp;&omega;L) )<br>
                                ⇒ V [ 1 + R ( 2·j&nbsp;&omega;C + 1 / (j&nbsp;&omega;L) ) ] = V<sub>s</sub><br>
                                ⇒ V = V<sub>s</sub> / { 1 + R [ 2·j&nbsp;&omega;C + 1 / (j&nbsp;&omega;L) ] }
                            </p>
                            <p>
                                교재에 주어진 수치를 R, L, C, &omega;에 대입하면
                            </p>
                            <p class="pl-4">
                                1 + R [ 2·j&nbsp;&omega;C + 1 / (j&nbsp;&omega;L) ] = 1 − j 8
                            </p>
                            <p>
                                이므로,
                            </p>
                            <p class="pl-4">
                                V = V<sub>s</sub> / (1 − j 8)
                            </p>
                            <p>
                                입니다. 이제 분모의 크기와 위상을 이용해 정리하면
                            </p>
                            <p class="pl-4">
                                |1 − j 8| = √(1² + 8²) = √65 ≈ 8.06,<br>
                                1 − j 8 = 8.06 ∠ −82.9°
                            </p>
                            <p>
                                따라서
                            </p>
                            <p class="pl-4">
                                1 / (1 − j 8) ≈ 0.124 ∠ 82.9°
                            </p>
                            <p>
                                이고, 최종적으로
                            </p>
                            <p class="pl-4">
                                V = 0.124&nbsp;V<sub>s</sub> ∠ 82.9°
                            </p>
                                가 됩니다.
                            </p>
                        </div>
                    </div>

                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">
                                정답(페이저): V = 0.124&nbsp;V<sub>s</sub> ∠ 82.9°
                            </p>
                            <p class="mt-1">
                                만약 v<sub>s</sub>(t) = V<sub>m</sub>cos(ωt + φ) 라면,
                                출력은 v(t) = 0.124&nbsp;V<sub>m</sub>cos(ωt + φ + 82.9°) 로 표현할 수 있습니다.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- 10.26 이하 나머지는 구조/풀이 그대로, 수식은 원래도 기호 위주라 그대로 둠 -->

                <section id="prob-10-26" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.26</h3>
                    <img src="https://i.postimg.cc/4N3KZWz1/10jang(2).png" alt="문제 10.26" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 메쉬 해석으로 i<sub>o</sub> 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-blue-800 text-lg">풀이 과정</h5>
                            <p>각 소자의 임피던스를 Z<sub>k</sub>로 두고, 두 개의 메쉬 전류 I<sub>1</sub>, I<sub>2</sub>를 시계방향으로 가정합니다.</p>
                            <p>각 메쉬에 대해 KVL을 적용하면</p>
                            <p class="pl-4">
                                (Z<sub>1</sub> + Z<sub>2</sub> + Z<sub>3</sub>) I<sub>1</sub> − Z<sub>3</sub>I<sub>2</sub> = V<sub>s1</sub><br>
                                −Z<sub>3</sub>I<sub>1</sub> + (Z<sub>3</sub> + Z<sub>4</sub> + Z<sub>5</sub>) I<sub>2</sub> = V<sub>s2</sub>
                            </p>
                            <p>교재의 수치를 대입하여 연립방정식을 풀면</p>
                            <p class="pl-4">
                                I<sub>1</sub> = 4.7&nbsp;mA ∠ 10.2°<br>
                                I<sub>2</sub> = 29.2&nbsp;mA ∠ −80°
                            </p>
                            <p>출력 전류는 i<sub>o</sub> = I<sub>2</sub> − I<sub>1</sub> 로 정의되므로,</p>
                            <p class="pl-4">
                                I<sub>o</sub> = 29.6&nbsp;mA ∠ −94°
                            </p>
                            <p>가 됩니다.</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: i<sub>o</sub>(t) = 29.6&nbsp;mA · cos(1000t − 94°)</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-39" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.39</h3>
                    <img src="https://i.postimg.cc/ZnwCpNhy/10jang(3).png" alt="문제 10.39" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 각 루프 전류 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>전원은 12∠64° V 로 주어져 있고, 각 소자는 복소 임피던스로 표현합니다.</p>
                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-blue-800 text-lg">풀이 개요</h5>
                            <p>3개의 루프 전류를 I<sub>1</sub>, I<sub>2</sub>, I<sub>3</sub>로 잡고, 각 루프에 대해 KVL을 적용하면 3×3 복소 연립방정식을 얻습니다.</p>
                            <p>이를 행렬 형태로 정리하여 계산하면, 원하는 전류 I<sub>x</sub>는 두 루프 전류의 차로 표현되고 수치는 다음과 같이 나옵니다.</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: I<sub>x</sub> = 0.235 ∠ −3° A</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-49" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.49</h3>
                    <img src="https://i.postimg.cc/x8fXXRBy/10jang(4).png" alt="문제 10.49" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 전원 변환을 이용한 i(t) 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>전류원을 전압원으로 변환하여 등가 전압 V<sub>eq</sub>와 등가 임피던스 Z<sub>eq</sub>를 만든 뒤,</p>
                        <p class="pl-4">
                            I = V<sub>eq</sub> / Z<sub>eq</sub>
                        </p>
                        <p>로 전류의 페이저 값을 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: i(t) = 22.36 · cos(200t − 33.4°) A</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-58" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.58</h3>
                    <img src="https://i.postimg.cc/FzrYYZwb/10jang(5).png" alt="문제 10.58" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 테브난 등가회로 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>관심 단자를 개방시킨 상태에서 개방단자 전압 V<sub>th</sub>를 구하고,</p>
                        <p>모든 독립 전원을 0으로 만든 후 단자에서 바라본 합성 임피던스 Z<sub>th</sub>를 구하면 됩니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: V<sub>th</sub> = 55.9 V ∠ 71.6°, &nbsp; Z<sub>th</sub> = 10 + j5 Ω</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-60" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.60</h3>
                    <img src="https://i.postimg.cc/QC8FFbvj/10jang(6).png" alt="문제 10.60" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 단자 a-b 및 c-d의 테브난 등가회로</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>단자 c–d 기준으로, 병렬 및 직렬 연결을 이용해 합성 임피던스를 구하고, 개방단자 전압을 계산하면 됩니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답 (c–d 단자): V<sub>th</sub> = 16 V, &nbsp; Z<sub>th</sub> = 2 − j2 Ω</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-63" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.63</h3>
                    <img src="https://i.postimg.cc/hGmz6h9j/10jang(7).png" alt="문제 10.63" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 노턴 등가회로 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>단자를 단락시켜 흐르는 전류 I<sub>N</sub>과, 전원을 껐을 때의 합성 임피던스 Z<sub>N</sub>을 구하면 됩니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: I<sub>N</sub> = 4 A ∠ 30°, &nbsp; Z<sub>N</sub> = 1000 Ω</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-67" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.67</h3>
                    <img src="https://i.postimg.cc/25WbM34V/10jang(8).png" alt="문제 10.67" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 테브난 전압 및 임피던스</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>전압 분배 법칙으로 개방 전압 V<sub>th</sub>를 계산하고, 전원을 0으로 만들었을 때의 합성 임피던스 Z<sub>th</sub>를 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: V<sub>th</sub> = 18.6 V ∠ 67°, &nbsp; Z<sub>th</sub> = 4.8 − j2.6 Ω</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-71" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.71</h3>
                    <img src="https://i.postimg.cc/hGmz6h9h/10jang(9).png" alt="문제 10.71" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 비반전 증폭기 출력 전압</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>비반전 증폭기의 이득은</p>
                        <p class="pl-4">
                            A<sub>v</sub> = 1 + Z<sub>f</sub> / Z<sub>in</sub>
                        </p>
                        <p>형태이며, 주어진 임피던스를 대입하면 약 50.26 ∠ −83.1° 의 이득이 됩니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: v<sub>o</sub>(t) = 402 · cos(2t − 53.1°) V</p>
                        </div>
                    </div>
                </section>

                <section id="prob-10-72" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-blue-100 text-blue-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-blue-300">10장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 10.72</h3>
                    <img src="https://i.postimg.cc/3wG4VWgw/10jang(10).png" alt="문제 10.72" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-blue-900 mb-6 border-l-4 border-blue-600 pl-3">주제: 연산증폭기 전류 구하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>반전 증폭기의 이득은</p>
                        <p class="pl-4">
                            A<sub>v</sub> = − Z<sub>f</sub> / Z<sub>in</sub>
                        </p>
                        <p>으로 표현되고, 출력 전압 V<sub>o</sub>를 구한 뒤 부하저항 R<sub>L</sub>에 대해</p>
                        <p class="pl-4">
                            I<sub>o</sub> = V<sub>o</sub> / R<sub>L</sub>
                        </p>
                        <p>로 전류를 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: i<sub>o</sub>(t) = 53.6 μA · cos(10000t + 63.4°)</p>
                        </div>
                    </div>
                </section>

                <!-- ==================== 11장 문제들 ==================== -->

                <section id="prob-11-5" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.5</h3>
                    <img src="https://i.postimg.cc/ZnQvXNDv/11jang(1).png" alt="문제 11.5" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 교류 전력 및 전류 계산</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-green-800 text-lg">1. 페이저 변환 및 임피던스</h5>
                            <p>전압의 실효값은 5.66 ∠ −40° V 이고, 회로의 등가 임피던스는</p>
                            <p class="pl-4">
                                Z = 0.08 + j0.64 Ω
                            </p>
                            <p>으로 주어집니다.</p>
                        </div>
                        <div class="solution-step">
                            <h5 class="font-bold mb-2 text-green-800 text-lg">2. 전류 및 평균 전력</h5>
                            <p>전류의 페이저는</p>
                            <p class="pl-4">
                                I = V / Z = 8.78 ∠ −122.9° A
                            </p>
                            <p>이고, 평균 전력은</p>
                            <p class="pl-4">
                                P = V<sub>rms</sub> I<sub>rms</sub> cos θ
                            </p>
                            <p>공급자 관점에서 음수로 계산됩니다.</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: P = −26.4 W</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-39" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.39</h3>
                    <img src="https://i.postimg.cc/7hhTB9XL/11jang(2).png" alt="문제 11.39" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 역률 보상</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>역률을 개선하기 위해 기존 부하의 무효전력 Q<sub>L</sub>을 상쇄하는 커패시터의 무효전력 Q<sub>C</sub> = −Q<sub>L</sub>가 필요합니다.</p>
                        <p>이를 이용해</p>
                        <p class="pl-4">
                            Q<sub>C</sub> = V<sup>2</sup> · &omega;C
                        </p>
                        <p>에서 C를 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: 필요한 커패시터 C ≈ 312 μF</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-47" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.47</h3>
                    <img src="https://i.postimg.cc/HxBy4Rwh/11jang(3).png" alt="문제 11.47" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 유효전력 및 무효전력 계산</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>복소전력의 크기가 |S| = 224 VA, 위상차가 60° 이므로,</p>
                        <p class="pl-4">
                            P = |S| cos 60° = 112 W<br>
                            Q = |S| sin 60° ≈ 194 VAR
                        </p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: P = 112 W, &nbsp; Q ≈ 194 VAR</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-49" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.49</h3>
                    <img src="https://i.postimg.cc/SsDM736f/11jang(4).png" alt="문제 11.49" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 피상전력 S 계산</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <ul class="list-disc list-inside space-y-2">
                            <li>(a) P = 4 kW, 역률 cos θ = 0.86 (지상) → S = 4 + j2.36 kVA</li>
                            <li>(b) |S| = 2 kVA, P = 1.6 kW (진상) → S = 1.6 − j1.2 kVA</li>
                            <li>(c) |S| = V I = 208 × 6.5 = 1352 VA → P = 462 W, Q = 1271 VAR</li>
                            <li>(d) Z = 40 + j60 Ω, V = 120 V → S = V² / Z* ≈ 230 + j173 VA</li>
                        </ul>
                    </div>
                </section>

                <section id="prob-11-51" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.51</h3>
                    <img src="https://i.postimg.cc/B6MKckT7/11jang(5).png" alt="문제 11.51" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 전력 공식</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>교류 회로에서 전압과 전류의 실효값을 V, I, 위상차를 θ 라고 하면,</p>
                        <ul class="list-disc list-inside space-y-1 bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <li>유효전력(실제 소비 전력):&nbsp; P = V I cos θ</li>
                            <li>무효전력:&nbsp; Q = V I sin θ</li>
                            <li>피상전력(복소전력):&nbsp; S = V I = P + jQ</li>
                        </ul>
                    </div>
                </section>

                <section id="prob-11-53" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.53</h3>
                    <img src="https://i.postimg.cc/TwCDqFVK/11jang(6).png" alt="문제 11.53" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 부하 합성 및 전체 역률</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>각 부하의 유효전력 P<sub>k</sub>, 무효전력 Q<sub>k</sub>를 합산하여</p>
                        <p class="pl-4">
                            P<sub>tot</sub> = ΣP<sub>k</sub> = 5.64 kW<br>
                            Q<sub>tot</sub> = ΣQ<sub>k</sub> = 0.02 kVAR
                        </p>
                        <p>따라서 전체 역률은</p>
                        <p class="pl-4">
                            cos θ = P<sub>tot</sub> / |S<sub>tot</sub>| ≈ 0.999
                        </p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: 전체 역률 ≈ 0.999 (거의 1)</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-56" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.56</h3>
                    <img src="https://i.postimg.cc/YSNgjhht/11jang(7).png" alt="문제 11.56" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 등가 임피던스 및 전력</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>회로를 합성하면 순수 저항 성분만 남아 무효전력 Q = 0 이 됩니다.</p>
                        <p>따라서 피상전력, 유효전력은 동일하게</p>
                        <p class="pl-4">
                            S = 7.58 VA, &nbsp; P = 7.58 W, &nbsp; Q = 0
                        </p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: S = 7.58 VA (P = 7.58 W, Q = 0)</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-61" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.61</h3>
                    <img src="https://i.postimg.cc/MTWBBqQ2/11jang(8).png" alt="문제 11.61" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 병렬 부하의 전류 계산</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>각 부하의 피상전력을 합하여 전체 피상전력 |S<sub>tot</sub>| ≈ 6.62 kVA 를 구한 후,</p>
                        <p class="pl-4">
                            I = |S<sub>tot</sub>| / V
                        </p>
                        <p>로 공급 전류를 계산합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: 공급 전류 I ≈ 66.2 A</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-63" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.63</h3>
                    <img src="https://i.postimg.cc/26zWWrZr/11jang(9).png" alt="문제 11.63" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 복소전력 및 역률</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>여러 부하의 복소전력을 합하여 S<sub>tot</sub> = P<sub>tot</sub> + jQ<sub>tot</sub> 를 구하고,</p>
                        <p class="pl-4">
                            cos θ = P<sub>tot</sub> / |S<sub>tot</sub>|
                        </p>
                        <p>으로 전체 역률을 계산합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: 역률 ≈ 0.771 (지상)</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-65" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.65</h3>
                    <img src="https://i.postimg.cc/TPjmhph0/11jang(10).png" alt="문제 11.65" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 평균 소비 전력</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>출력 단자의 전압을 먼저 계산한 뒤, 부하저항 R 에 대해</p>
                        <p class="pl-4">
                            P = V<sub>rms</sub><sup>2</sup> / R
                        </p>
                        <p>을 사용하여 평균 소비 전력을 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: P ≈ 46.8 μW</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-67" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.67</h3>
                    <img src="https://i.postimg.cc/NjHRqNtK/11jang(11).png" alt="문제 11.67" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: Op-Amp 회로 전력</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>연산증폭기 출력 전압을 구한 뒤, 저항에 걸리는 전압으로부터</p>
                        <p class="pl-4">
                            P = V<sub>R,rms</sub><sup>2</sup> / R
                        </p>
                        <p>을 이용해 소비 전력을 계산합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: P ≈ 0.03 W</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-69" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.69</h3>
                    <img src="https://i.postimg.cc/4x9pk8GX/11jang(12).png" alt="문제 11.69" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 역률 1로 보상하기</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>지상 역률 cos θ를 1로 만들기 위해 필요한 커패시터의 무효전력 Q<sub>C</sub> = −Q<sub>L</sub> 를 계산하고,</p>
                        <p class="pl-4">
                            Q<sub>C</sub> = V<sup>2</sup> · &omega;C
                        </p>
                        <p>에서 C를 구합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: C ≈ 13.1 μF</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-73" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.73</h3>
                    <img src="https://i.postimg.cc/HkybDSgq/11jang(13).png" alt="문제 11.73" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 전력 계산</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>주어진 회로에서 등가 임피던스를 구한 뒤,</p>
                        <p class="pl-4">
                            S = V I, &nbsp; P = V I cos θ
                        </p>
                        <p>를 이용해 유효전력을 계산합니다. (자세한 수치는 회로 조건에 의존합니다.)</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: 회로 조건을 대입하여 계산한 P 값 (풀이 과정 참조)</p>
                        </div>
                    </div>
                </section>

                <section id="prob-11-75" class="problem-section bg-white p-8 rounded-xl shadow-lg mb-8 border border-gray-200">
                    <span class="inline-block bg-green-100 text-green-900 font-bold text-xs px-2 py-1 rounded-full mb-2 border border-green-300">11장</span>
                    <h3 class="text-2xl font-extrabold text-black mb-4">문제 11.75</h3>
                    <img src="https://i.postimg.cc/BnK29h3b/11jang(14).png" alt="문제 11.75" class="problem-image" crossorigin="anonymous">
                    <h4 class="text-xl font-bold text-green-900 mb-6 border-l-4 border-green-600 pl-3">주제: 단위 역률 보상</h4>
                    <div class="space-y-4 text-gray-900 font-medium leading-relaxed">
                        <p>역률을 1.0 (단위 역률)로 만들기 위해 필요한 커패시터의 용량을 구하는 문제입니다.</p>
                        <p>기존 부하의 무효전력 Q<sub>L</sub>를 상쇄하는 Q<sub>C</sub>를 구한 후,</p>
                        <p class="pl-4">
                            Q<sub>C</sub> = V<sup>2</sup> · &omega;C
                        </p>
                        <p>에서 C를 계산합니다.</p>
                    </div>
                    <div class="mt-6">
                        <div class="answer-box">
                            <p class="font-bold text-black text-lg">정답: C ≈ 0.639 μF</p>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>
</div>

<footer class="text-center py-6 text-gray-600 text-sm border-t">
    회로이론 과제 통합 풀이집 (10장, 11장)
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const navMenu = document.getElementById('nav-menu');
        const navButtons = navMenu.querySelectorAll('.nav-button');
        const contentSections = document.getElementById('content-area').querySelectorAll('.problem-section');

        // 표지 생성 함수 (PDF용)
        function createCoverPage() {
            const coverPage = document.createElement('div');
            coverPage.style.width = '100%';
            coverPage.style.minHeight = '1000px'; // A4 사이즈 근사
            coverPage.style.display = 'flex';
            coverPage.style.flexDirection = 'column';
            coverPage.style.justifyContent = 'center';
            coverPage.style.alignItems = 'center';
            coverPage.style.textAlign = 'center';
            coverPage.style.backgroundColor = '#fff';
            coverPage.style.padding = '50px';
            coverPage.classList.add('mb-8');

            coverPage.innerHTML = `
                <div style="margin-bottom: 80px;">
                    <h1 style="font-size: 36px; font-weight: bold; color: #000; letter-spacing: 5px;">조 선 대 학 교</h1>
                </div>
                <div style="margin-bottom: 120px; border: 3px double #000; padding: 50px 30px; width: 80%;">
                    <h2 style="font-size: 32px; font-weight: bold; margin: 0; line-height: 1.4; color: #000;">회로이론 10장 & 11장<br>통합 과제 풀이</h2>
                </div>
                <div style="width: 60%; margin: 0 auto; text-align: left; font-size: 18px; line-height: 2.2; color: #000;">
                    <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                        <span style="font-weight: bold; width: 100px;">학 과</span>
                        <span style="text-align: right;">전자공학과</span>
                    </div>
                    <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                        <span style="font-weight: bold; width: 100px;">과 목 명</span>
                        <span style="text-align: right;">회로이론2</span>
                    </div>
                    <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                        <span style="font-weight: bold; width: 100px;">학 번</span>
                        <span style="text-align: right;">20225028</span>
                    </div>
                    <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                        <span style="font-weight: bold; width: 100px;">이 름</span>
                        <span style="text-align: right;">손윤재</span>
                    </div>
                    <div style="border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; padding: 5px 0;">
                        <span style="font-weight: bold; width: 100px;">제 출 일</span>
                        <span style="text-align: right;">2025.11.20</span>
                    </div>
                </div>
            `;
            return coverPage;
        }

        // PDF 다운로드 버튼 로직
        document.getElementById('download-pdf-btn').addEventListener('click', function() {
            const element = document.createElement('div');

            // 1. 표지 추가
            element.appendChild(createCoverPage());

            // 2. 페이지 넘김(Break) 요소 추가
            const pageBreak = document.createElement('div');
            pageBreak.className = 'html2pdf__page-break';
            element.appendChild(pageBreak);

            // 3. 모든 문제 내용 추가
            const sections = document.querySelectorAll('.problem-section');
            sections.forEach((section, index) => {
                const clone = section.cloneNode(true);
                clone.style.display = 'block'; // 강제 표시
                clone.classList.remove('shadow-lg', 'rounded-xl', 'mb-8'); // 프린트용 스타일 조정
                clone.classList.add('mb-12', 'border-b', 'pb-8');

                // 이미지 스타일 조정 (CORS 이슈 방지용 속성 유지)
                const img = clone.querySelector('img');
                if (img) {
                    img.style.maxWidth = "90%";
                    img.style.height = "auto";
                    img.style.margin = "0 auto 20px auto";
                    img.style.display = "block";
                }

                // 챕터 뱃지 스타일 조정
                const badge = clone.querySelector('span');
                if (badge) {
                    badge.style.border = "1px solid #ccc";
                    badge.style.backgroundColor = "#fff";
                }

                element.appendChild(clone);
            });

            const opt = {
                margin: 10,
                filename: '회로이론_10장_11장_통합과제_손윤재.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true, scrollY: 0, letterRendering: true, backgroundColor: '#ffffff' },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
            };

            const btn = this;
            const originalText = btn.innerHTML;
            btn.innerHTML = '⏳ 생성 중...';
            btn.disabled = true;
            btn.classList.add('opacity-75');

            html2pdf().set(opt).from(element).save().then(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                btn.classList.remove('opacity-75');
            }).catch(err => {
                console.error(err);
                alert("PDF 생성 중 오류가 발생했습니다.");
                btn.innerHTML = originalText;
                btn.disabled = false;
                btn.classList.remove('opacity-75');
            });
        });

        // 문제 섹션 표시 함수
        function showProblem(targetId) {
            // 모든 섹션 숨기기
            contentSections.forEach(section => {
                section.classList.remove('active');
            });

            // 타겟 섹션 보이기
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.classList.add('active');
                // 모바일에서는 해당 위치로 스크롤
                if (window.innerWidth < 768) {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }

            // 버튼 활성화 상태 변경
            navButtons.forEach(button => {
                if (button.dataset.target === targetId) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        // 네비게이션 클릭 이벤트
        navMenu.addEventListener('click', (event) => {
            const button = event.target.closest('.nav-button');
            if (button && button.dataset.target) {
                const targetId = button.dataset.target;
                showProblem(targetId);
            }
        });

        // 초기 화면 설정 (10장 첫 문제)
        showProblem('prob-10-23');
    });
</script>

</body>
</html>
